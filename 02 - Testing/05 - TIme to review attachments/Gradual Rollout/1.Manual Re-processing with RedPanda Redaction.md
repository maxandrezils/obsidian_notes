Create a reusable management command that allows developers to manually re-run redaction on a given `Instruction` using the new RedPanda-based workflow. This supports testing and correction during the rollout period, without requiring Celery intervention or affecting legacy instructions.

### **Requirements**

- Input: one or many`instruction_id` (or `medi_ref`)
    
- Preconditions:
    
    - Instruction exists
        
    - Instruction must be in `IN_PROGRESS` status
        
    - Instruction has `redaction_system = "celery"`
        
- Add flag for retrigger `"redpanda"`instructions if we want to reprocess (`--rerun`)
    
- Behaviour:
    
    - Emit a RedPanda event that triggers the preprocessing topic
        
    - Set on instruction`redaction_system = "redpanda"`
        
    - Print logs for success/failure per instruction
        

### **Acceptance Criteria**

- RedPanda redaction can be re-triggered for any valid in-progress instruction
    
- Command is safe to run multiple times without duplicating output

| Acceptance Criteria                                                          | Scenario                                                                                                                                                | Expected Result                                                                                                                                                                                                                                            | Screenshot | Status |
| ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- | ------ |
| RedPanda redaction can be re-triggered for any valid in-progress instruction | If the <br>- Instruction(s) exist       <br>- Instruction(s) must be in `IN_PROGRESS` status<br>- Instruction has `redaction_system = "celery"`<br><br> | Update the redaction_system to 'redpanda' for the valid instruction(s)<br>- Print logs for success/failure per instruction                                                                                                                                 |            |        |
| Command is safe to run multiple times without duplicating output             | If the <br>- Instructions exist<br>- Instructions are `IN_PROGRESS` status<br>- some instruction have `redaction_system` = `redpanda`                   | If the instruction list includes instructions that have already been processed, continue processing the other instructions are still processed and logs are output for the previously set instructions<br>- Print logs for success/failure per instruction |            |        |
